{"version":3,"file":"js/785.67c5c106.js","mappings":"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","sources":["webpack://vue_week7/./src/views/front/ProductView.vue","webpack://vue_week7/./src/views/front/ProductView.vue?410b"],"sourcesContent":["<template>\n  <!-- <h2>單一產品</h2> -->\n  <VLoading :active=\"isLoading\" :z-index=\"1060\">\n\n  </VLoading>\n\n  <nav aria-label=\"breadcrumb\">\n    <ol class=\"breadcrumb mt-3\">\n      <li class=\"breadcrumb-item\">\n        <router-link to=\"/products\">產品頁面</router-link>\n      </li>\n      <li class=\"breadcrumb-item active\" aria-current=\"page\">\n        {{ product.title }}\n      </li>\n    </ol>\n  </nav>\n  <div class=\"modal-dialog modal-xl\" role=\"document\">\n    <div class=\"modal-content border-0\">\n      <div class=\"modal-header bg-dark text-white\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n          <span>{{ product.title }}</span>\n        </h5>\n        <!-- <button type=\"button\" class=\"btn-close\"\n                    data-bs-dismiss=\"modal\" aria-label=\"Close\"></button> -->\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"row\">\n          <div class=\"col-sm-6\">\n            <img class=\"img-fluid\" :src=\"product.imagesUrl\" alt=\"\" />\n          </div>\n          <div class=\"col-sm-6\">\n            <span class=\"badge bg-primary rounded-pill\">{{\n              product.category\n            }}</span>\n            <p>商品描述：{{ product.description }}</p>\n            <p>商品內容：{{ product.content }}</p>\n            <div class=\"h5\" v-if=\"!product.price\">\n              {{ product.origin_price }} 元\n            </div>\n            <del class=\"h6\" v-if=\"product.price\"\n              >原價 {{ product.origin_price }} 元</del\n            >\n            <div class=\"h5\" v-if=\"product.price\">\n              現在只要 {{ product.price }} 元\n            </div>\n            <div>\n              <div class=\"input-group\">\n                <input\n                  type=\"number\"\n                  class=\"form-control\"\n                  v-model.number=\"qty\"\n                  min=\"1\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"btn btn-primary\"\n                  @click=\"addToCart(product.id, product.title, qty)\"\n                >\n                  加入購物車\n                </button>\n              </div>\n            </div>\n          </div>\n          <!-- col-sm-6 end -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/libs/emitter'\nexport default {\n  data () {\n    return {\n      product: {},\n      qty: 1,\n      isLoading: false\n    }\n  },\n  watch: {\n    qty (n, o) {\n      if (n <= 0) {\n        this.qty = o\n      }\n    }\n  },\n  methods: {\n    getProduct () {\n      const { id } = this.$route.params\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.product = res.data.product\n          this.isLoading = false\n        })\n        .catch((err) => {\n          console.dir(err.data)\n          this.isLoading = false\n        })\n    },\n    addToCart (id, title, qty = 1) {\n      const data = {\n        product_id: id,\n        qty: qty\n      }\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/`\n      this.$http\n        .post(url, { data })\n        .then((res) => {\n          this.qty = 1\n          emitter.emit('get-cart-num')\n          emitter.emit('push-message', {\n            style: 'success',\n            title: `${title}${res.data.message}`\n          })\n          this.isLoading = false\n        })\n        .catch((err) => {\n          this.isLoading = false\n          emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`\n          })\n        })\n    }\n  },\n  mounted () {\n    this.getProduct()\n  }\n}\n</script>\n","import { render } from \"./ProductView.vue?vue&type=template&id=438d650e\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\sex_School\\\\vue_week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","role","id","_createVNode","_component_VLoading","active","$data","_createElementVNode","_component_router_link","to","_toDisplayString","title","src","imagesUrl","alt","category","description","content","price","_createElementBlock","origin_price","type","$event","min","onClick","$options","data","product","qty","isLoading","watch","n","o","this","methods","getProduct","$route","params","url","$http","get","then","res","catch","err","console","dir","addToCart","product_id","post","emitter","style","message","response","mounted","__exports__","render"],"sourceRoot":""}