"use strict";(self["webpackChunkvue_week7"]=self["webpackChunkvue_week7"]||[]).push([[785],{1785:function(t,s,e){e.r(s),e.d(s,{default:function(){return Z}});var i=e(6252),a=e(3577),c=e(9963);const o={"aria-label":"breadcrumb"},d={class:"breadcrumb mt-3"},r={class:"breadcrumb-item"},l=(0,i.Uk)("產品頁面"),u={class:"breadcrumb-item active","aria-current":"page"},n={class:"modal-dialog modal-xl",role:"document"},p={class:"modal-content border-0"},h={class:"modal-header bg-dark text-white"},m={class:"modal-title",id:"exampleModalLabel"},g={class:"modal-body"},_={class:"row"},v={class:"col-sm-6"},b=["src"],w={class:"col-sm-6"},y={class:"badge bg-primary rounded-pill"},k={key:0,class:"h5"},q={key:1,class:"h6"},L={key:2,class:"h5"},f={class:"input-group"};function z(t,s,e,z,$,x){const C=(0,i.up)("VLoading"),D=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(C,{active:$.isLoading,"z-index":1060},null,8,["active"]),(0,i._)("nav",o,[(0,i._)("ol",d,[(0,i._)("li",r,[(0,i.Wm)(D,{to:"/products"},{default:(0,i.w5)((()=>[l])),_:1})]),(0,i._)("li",u,(0,a.zw)($.product.title),1)])]),(0,i._)("div",n,[(0,i._)("div",p,[(0,i._)("div",h,[(0,i._)("h5",m,[(0,i._)("span",null,(0,a.zw)($.product.title),1)])]),(0,i._)("div",g,[(0,i._)("div",_,[(0,i._)("div",v,[(0,i._)("img",{class:"img-fluid",src:$.product.imagesUrl,alt:""},null,8,b)]),(0,i._)("div",w,[(0,i._)("span",y,(0,a.zw)($.product.category),1),(0,i._)("p",null,"商品描述："+(0,a.zw)($.product.description),1),(0,i._)("p",null,"商品內容："+(0,a.zw)($.product.content),1),$.product.price?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",k,(0,a.zw)($.product.origin_price)+" 元 ",1)),$.product.price?((0,i.wg)(),(0,i.iD)("del",q,"原價 "+(0,a.zw)($.product.origin_price)+" 元",1)):(0,i.kq)("",!0),$.product.price?((0,i.wg)(),(0,i.iD)("div",L," 現在只要 "+(0,a.zw)($.product.price)+" 元 ",1)):(0,i.kq)("",!0),(0,i._)("div",null,[(0,i._)("div",f,[(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>$.qty=t),min:"1"},null,512),[[c.nr,$.qty,void 0,{number:!0}]]),(0,i._)("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=t=>x.addToCart($.product.id,$.product.title,$.qty))}," 加入購物車 ")])])])])])])])],64)}var $=e(4902),x={data(){return{product:{},qty:1,isLoading:!1}},watch:{qty(t,s){t<=0&&(this.qty=s)}},methods:{getProduct(){const{id:t}=this.$route.params;this.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/v2/api/clothes/product/${t}`;this.$http.get(s).then((t=>{this.product=t.data.product,this.isLoading=!1})).catch((t=>{console.dir(t.data),this.isLoading=!1}))},addToCart(t,s,e=1){const i={product_id:t,qty:e};this.isLoading=!0;const a="https://vue3-course-api.hexschool.io/v2/api/clothes/cart/";this.$http.post(a,{data:i}).then((t=>{this.qty=1,$.Z.emit("get-cart-num"),$.Z.emit("push-message",{style:"success",title:`${s}${t.data.message}`}),this.isLoading=!1})).catch((t=>{this.isLoading=!1,$.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))}},mounted(){this.getProduct()}},C=e(3744);const D=(0,C.Z)(x,[["render",z]]);var Z=D}}]);
//# sourceMappingURL=785.67c5c106.js.map